System.register("chunks:///_virtual/PlayerController.ts",["cc","./MonsterState.ts"],(function(e){"use strict";var t,i,n,r,o,s,c,a,u;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Node,r=e.systemEvent,o=e.SystemEventType,s=e.macro,c=e.Vec3,a=e.Component},function(e){u=e.MonsterState}],execute:function(){var l,y,h,d,f,p,v;function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,i,n,r){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t._RF.push({},"83a50cRbJdBDIZCSMSoPU31","PlayerController",void 0);var k=i.ccclass,C=i.property,D=function(e,t){w(this,"keyCode",0),w(this,"isPress",!1),this.keyCode=e,this.isPress=t};e("PlayerController",(l=k("PlayerController"),y=C({type:n}),h=C({type:u}),l((p=m((f=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return w(P(t=e.call.apply(e,[this].concat(n))||this),"curPos",new c),w(P(t),"moveSpeed",500),w(P(t),"deltaPos",new c),w(P(t),"direction",new c),w(P(t),"keyArr",new Array),b(P(t),"actor",p,P(t)),b(P(t),"monsterState",v,P(t)),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.onLoad=function(){r.on(o.KEY_DOWN,this.onKeyDown,this),r.on(o.KEY_UP,this.onKeyRelease,this)},a.start=function(){},a.onDestroy=function(){},a.onKeyDown=function(e){console.log("按下"+e.keyCode),this.ProcessInput(e)},a.onKeyRelease=function(e){console.log("松开"+e.keyCode),this.ReleaseInput(e)},a.ProcessInput=function(e){this.keyArr.some((function(t,i,n){return t.keyCode==e.keyCode}))||this.keyArr.push(new D(e.keyCode,!0))},a.ReleaseInput=function(e){var t=this;switch(this.keyArr.forEach((function(i,n){i.keyCode!=e.keyCode||t.keyArr.splice(n,1)})),e.keyCode){case s.KEY.d:case s.KEY.a:case s.KEY.w:case s.KEY.s:this.ResetDirection()}},a.DoInput=function(){var e=this;this.keyArr.forEach((function(t){1==t.isPress&&(e.SetDirection(t.keyCode),e.DoJumpOrDown(t.keyCode))}))},a.ResetDirection=function(){this.direction.set(0,0,0)},a.SetDirection=function(e){switch(e){case s.KEY.d:this.direction.x=1;break;case s.KEY.a:this.direction.x=-1}},a.DoJumpOrDown=function(e){var t;switch(e){case s.KEY.space:null===(t=this.monsterState)||void 0===t||t.Jump()}},a.update=function(e){var t;this.DoInput(),this.curPos=this.actor.getPosition(),this.deltaPos=this.direction.multiplyScalar(this.moveSpeed*e),this.curPos.add(this.deltaPos),null===(t=this.actor)||void 0===t||t.setPosition(this.curPos)},n}(a)).prototype,"actor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=m(f.prototype,"monsterState",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));t._RF.pop()}}}));

System.register("chunks:///_virtual/StartSceneEvent.ts",["cc"],(function(e){"use strict";var t,n,r,i,a;return{setters:[function(e){t=e.cclegacy,n=e._decorator,r=e.Scene,i=e.director,a=e.Component}],execute:function(){var c,o,l,u,s;function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t._RF.push({},"9c570MGLCNNd7iIk30woiu1","StartSceneEvent",void 0);var v=n.ccclass,b=n.property;e("StartSceneEvent",(c=v("StartSceneEvent"),o=b({type:r}),c((s=function(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}((u=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return f(p(t=e.call.apply(e,[this].concat(r))||this),"GameScene",s,p(t)),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.startGame=function(){console.log(this.GameScene),i.loadScene(this.GameScene.name)},r}(a)).prototype,"GameScene",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=u))||l));t._RF.pop()}}}));

System.register("chunks:///_virtual/BlockManager.ts",["cc"],(function(t){"use strict";var r,o,e;return{setters:[function(t){r=t.cclegacy,o=t._decorator,e=t.Component}],execute:function(){var c;r._RF.push({},"aa9d0PPtkRNtZnbsRlmglg1","BlockManager",void 0);var n=o.ccclass;o.property,t("BlockManager",n("BlockManager")(c=function(t){var r,o;function e(){return t.apply(this,arguments)||this}return o=t,(r=e).prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o,e.prototype.start=function(){},e}(e))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterState.ts",["cc"],(function(e){"use strict";var i,t,n,r,o,u,l,a,c,s,p;return{setters:[function(e){i=e.cclegacy,t=e._decorator,n=e.CCInteger,r=e.Graphics,o=e.Collider2D,u=e.Contact2DType,l=e.RigidBody2D,a=e.math,c=e.PhysicsSystem2D,s=e.Vec2,p=e.Component}],execute:function(){var h,d,b,m,f,v,g;function y(e,i,t,n){t&&Object.defineProperty(e,i,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function C(e,i,t,n,r){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce((function(t,n){return n(e,i,t)||t}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,i,o),o=null),o}i._RF.push({},"c369bnh2xhFVobFgtjj1h1l","MonsterState",void 0);var B=t.ccclass,D=t.property;e("MonsterState",(h=B("MonsterState"),d=D({type:n}),b=D({type:r}),h((v=C((f=function(e){var i,t;function n(){for(var i,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(j(i=e.call.apply(e,[this].concat(n))||this),"jumpDur",1),w(j(i),"jumpTime",1),w(j(i),"collider",null),w(j(i),"ridigBody",null),y(j(i),"JumpPower",v,j(i)),y(j(i),"DebugGraphics",g,j(i)),i}t=e,(i=n).prototype=Object.create(t.prototype),i.prototype.constructor=i,i.__proto__=t;var r=n.prototype;return r.onLoad=function(){},r.start=function(){var e;this.collider=this.node.getComponent(o),null===(e=this.collider)||void 0===e||e.on(u.BEGIN_CONTACT,this.onBeginContact,this),this.ridigBody=this.node.getComponent(l)},r.onBeginContact=function(e,i,t){var n,r,o=new a.Rect;(o=i.worldAABB.clone()).yMin+=10;var u=c.instance.testAABB(o);null===(n=this.DebugGraphics)||void 0===n||n.rect(o.xMin,o.yMin,o.width,o.height),null===(r=this.DebugGraphics)||void 0===r||r.stroke(),u.length>1&&(console.log(u),this.jumpTime+=1)},r.Jump=function(){var e;this.jumpTime>this.jumpDur&&(null===(e=this.ridigBody)||void 0===e||e.applyLinearImpulseToCenter(new s(0,this.JumpPower),!0),this.jumpTime=0)},r.update=function(e){this.jumpTime<=this.jumpDur&&(this.jumpTime+=e)},n}(p)).prototype,"JumpPower",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),g=C(f.prototype,"DebugGraphics",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=f))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/CameraManager.ts",["cc"],(function(e){"use strict";var r,t,i,n,o;return{setters:[function(e){r=e.cclegacy,t=e._decorator,i=e.Node,n=e.Vec3,o=e.Component}],execute:function(){var a,l,c,u,s;function f(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}r._RF.push({},"cd494x1KP1A+4eKTslgiJ+6","CameraManager",void 0);var d=t.ccclass,h=t.property;e("CameraManager",(a=d("CameraController"),l=h({type:i}),a((s=function(e,r,t,i,n){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce((function(t,i){return i(e,r,t)||t}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,r,o),o=null),o}((u=function(e){var r,t;function i(){for(var r,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return b(p(r=e.call.apply(e,[this].concat(i))||this),"curPos",new n),b(p(r),"tarPos",new n),b(p(r),"actorPos",new n),f(p(r),"actorFollow",s,p(r)),r}return t=e,(r=i).prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t,i.prototype.update=function(e){this.curPos=this.node.getWorldPosition(),this.actorPos=this.actorFollow.getWorldPosition(),n.lerp(this.tarPos,this.curPos,this.actorPos,.1),this.node.setPosition(this.tarPos)},i}(o)).prototype,"actorFollow",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=u))||c));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["cc"],(function(e){"use strict";var t,r,i,n,a,o,c,l;return{setters:[function(e){t=e.cclegacy,r=e._decorator,i=e.Prefab,n=e.Node,a=e.instantiate,o=e.Vec3,c=e.randomRange,l=e.Component}],execute:function(){var u,s,f,h,b,p,g;function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t._RF.push({},"ec285GdW3dH7KqOOtHBBxvs","GameManager",void 0);var w=r.ccclass,_=r.property,k=function(e,t){y(this,"height",0),y(this,"place_x",0),this.height=e,this.place_x=t};e("GameManager",(u=w("GameManager"),s=_({type:i}),f=_({type:n}),u((p=m((b=function(e){var t,r;function i(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return y(v(t=e.call.apply(e,[this].concat(i))||this),"count",50),d(v(t),"blockPrefab",p,v(t)),d(v(t),"parentNode",g,v(t)),y(v(t),"blockArr",new Array),y(v(t),"generateHeight",0),t}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var n=i.prototype;return n.start=function(){this.generateBlock()},n.update=function(){},n.generateBlock=function(){for(var e=this,t=0;t<this.count;t++){var r=new k(this.getRandomHeight(),this.getRandomPlaceX());this.blockArr.push(r)}this.blockArr.forEach((function(t,r,i){var n,c=a(e.blockPrefab);c.setPosition(new o(t.place_x,t.height,0)),null===(n=e.parentNode)||void 0===n||n.addChild(c),i.shift()}))},n.getRandomHeight=function(){return this.generateHeight+=c(50,100),this.generateHeight},n.getRandomPlaceX=function(){return c(-300,300)},i}(l)).prototype,"blockPrefab",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m(b.prototype,"parentNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=b))||h));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./MonsterState.ts","./PlayerController.ts","./StartSceneEvent.ts","./BlockManager.ts","./CameraManager.ts","./GameManager.ts"],(function(){"use strict";return{setters:[function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});